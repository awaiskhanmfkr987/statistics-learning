<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Statistics Calculator</title>
<style>
body{font-family:Arial;background:#f8fafc;margin:0}
nav{background:#2563eb;padding:12px;text-align:center}
nav a{color:white;margin:10px;text-decoration:none;font-weight:bold}
section{
background:white;
margin:20px auto;
padding:25px;
max-width:1000px;
border-radius:10px;
line-height:1.8
}
textarea{width:100%;height:70px;margin:6px 0;padding:8px}
button{padding:10px;background:#2563eb;color:white;border:none;border-radius:6px}
.result{background:#eef2ff;padding:15px;border-radius:8px;margin-top:20px}
h3{color:#2563eb}
</style>
</head>
<body>

<nav>
<a href="index.html">Home</a>
<a href="learn.html">Learn</a>
<a href="calculator.html">Calculator</a>
<a href="theory.html">Theory</a>
</nav>

<section>
<h2>ðŸ“Š Advanced Statistics Calculator</h2>

<p><b>Instructions:</b>  
Enter numeric data (comma-separated).  
Use Sample 1 & 2 for two-sample tests.  
Use Sample 3 for ANOVA / Kruskal-Wallis.</p>

<label>Sample 1</label>
<textarea id="s1" placeholder="e.g. 10,12,14,16"></textarea>

<label>Sample 2</label>
<textarea id="s2" placeholder="e.g. 11,13,15,17"></textarea>

<label>Sample 3 (optional)</label>
<textarea id="s3" placeholder="e.g. 9,10,11,12"></textarea>

<button onclick="analyze()">Analyze Data</button>

<div class="result" id="out"></div>
</section>

<script>
function parse(x){
return x.split(",").map(Number).filter(n=>!isNaN(n));
}

function mean(x){return x.reduce((a,b)=>a+b,0)/x.length;}
function variance(x){
let m=mean(x);
return x.map(v=>(v-m)**2).reduce((a,b)=>a+b)/(x.length-1);
}

function analyze(){
let a=parse(document.getElementById("s1").value);
let b=parse(document.getElementById("s2").value);
let c=parse(document.getElementById("s3").value);

let html="<h3>Results</h3>";

/* ---------- DESCRIPTIVE ---------- */
if(a.length>1){
html+=`<b>Descriptive Statistics (Sample 1)</b><br>
Mean = ${mean(a).toFixed(2)}<br>
Variance = ${variance(a).toFixed(2)}<br><br>`;
}

/* ---------- TWO SAMPLE TESTS ---------- */
if(a.length>1 && b.length>1){

html+=`<b>Independent t-Test:</b><br>
Result: <i>Not automatically computed</i><br>
Reason: Requires normality & equal variance checks. Conceptual comparison possible.<br><br>`;

html+=`<b>Mann-Whitney U Test:</b><br>
Applicable (non-parametric).<br>
Reason: Uses ranks; no distribution assumption.<br><br>`;

}else{
html+=`<b>Two-Sample Tests:</b><br>
Not applicable â€“ need two samples with size â‰¥ 2.<br><br>`;
}

/* ---------- PAIRED TEST ---------- */
if(a.length===b.length && a.length>1){
html+=`<b>Paired t-Test:</b><br>
Applicable (paired data assumed).<br><br>`;
}else{
html+=`<b>Paired t-Test:</b><br>
Not applicable â€“ unequal sample sizes or pairing not defined.<br><br>`;
}

/* ---------- MULTI SAMPLE ---------- */
if(a.length>1 && b.length>1 && c.length>1){
html+=`<b>ANOVA:</b><br>
Applicable â€“ 3 independent groups detected.<br><br>

<b>Kruskal-Wallis Test:</b><br>
Applicable â€“ non-parametric alternative.<br><br>`;
}else{
html+=`<b>ANOVA / Kruskal-Wallis:</b><br>
Not applicable â€“ need â‰¥ 3 samples with size â‰¥ 2.<br><br>`;
}

/* ---------- CORRELATION ---------- */
if(a.length===b.length && a.length>2){
html+=`<b>Pearson Correlation:</b><br>
Applicable if linear & normal.<br><br>

<b>Spearman Correlation:</b><br>
Applicable â€“ rank based.<br><br>`;
}else{
html+=`<b>Correlation Tests:</b><br>
Not applicable â€“ unequal lengths or insufficient data.<br><br>`;
}

/* ---------- CATEGORICAL ---------- */
html+=`<b>Chi-Square / Binomial / Sign Tests:</b><br>
Not computed here.<br>
Reason: Require categorical or binary data, not raw numeric samples.<br><br>`;

document.getElementById("out").innerHTML=html;
}
</script>

</body>
</html>
